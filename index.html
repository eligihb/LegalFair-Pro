<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>רישום מתעניינים – יריד מתמחים</title>

<link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;700&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Heebo', sans-serif;
  margin: 0;
  padding: 10px;
  background: #f2f4f7;
  color: #1f2937;
}

.container {
  max-width: 480px;
  margin: 0 auto;
  background: #fff;
  padding: 14px;
  border-radius: 14px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.08);
}

h2 {
  text-align: center;
  margin: 0 0 10px;
  font-size: 1.3rem;
  color: #0d6b6b;
}

label {
  font-weight: 600;
  margin-bottom: 4px;
  display: block;
}

input, select, textarea {
  width: 100%;
  padding: 10px;
  font-size: 1rem;
  border-radius: 10px;
  border: 1px solid #d0d7e2;
  background: #f9fbfd;
  margin-bottom: 14px;
}

textarea {
  resize: vertical;
  min-height: 70px;
}

button {
  width: 100%;
  padding: 12px;
  background: #0d9488;
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1.1rem;
  font-weight: 700;
  cursor: pointer;
}

button:hover {
  background: #0b7f74;
}

/* רשימת הרשומות */
.record-list {
  margin-top: 20px;
}

.record {
  background: #e8f7f6;
  border: 1px solid #b4e1dd;
  padding: 12px;
  border-radius: 12px;
  margin-bottom: 10px;
  font-size: .95rem;
}

.export-btn {
  margin-top: 10px;
  background: #0a58ff !important;
}
</style>

</head>
<body>

<div class="container">
  <h2>רישום מתעניינים</h2>

  <label>מוקד</label>
  <select id="center">
    <option value="">בחר מוקד</option>
    <option>מכללת ספיר</option>
    <option>אוניברסיטת ת"א</option>
    <option>אוניברסיטת בר אילן</option>
    <option>המרכז הבינתחומי</option>
    <option>מכללת ר"ג</option>
  </select>

  <label>תאריך</label>
  <input type="date" id="date">

  <label>שם נציג</label>
  <input type="text" id="agent" placeholder="שם מלא">

  <hr>

  <label>שם המתעניין</label>
  <input type="text" id="name" placeholder="לדוגמה: דנה כהן">

  <label>שנה</label>
  <select id="year">
    <option value="">בחר שנה</option>
    <option>שנה א'</option>
    <option>שנה ב'</option>
    <option>שנה ג'</option>
    <option>שנה ד'</option>
    <option>סטאז'</option>
  </select>

  <label>עיר</label>
  <input type="text" id="city" placeholder="לדוגמה: נתניה">

  <label>טלפון</label>
  <input type="tel" id="phone" placeholder="050-0000000">

  <label>מייל</label>
  <input type="email" id="email" placeholder="example@mail.com">

  <label>תחום מועדף</label>
  <select id="field">
    <option value="">בחר תחום</option>
    <option>ליטיגציה</option>
    <option>מסחרי</option>
    <option>חדלות פירעון</option>
    <option>עבודה</option>
    <option>נזיקין</option>
    <option>משפחה</option>
    <option>פלילי</option>
  </select>

  <label>התרשמות כללית</label>
  <textarea id="notes" placeholder="רושם, התאמה, חוו"ד..."></textarea>

  <button onclick="addRecord()">הוסף לרשימה</button>

  <button class="export-btn" onclick="exportData()">ייצא הכל ל-CSV</button>

  <div class="record-list" id="list"></div>

</div>

<script>
let records = [];

function addRecord(){
  const data = {
    center: center.value,
    date: date.value,
    agent: agent.value,
    name: name.value,
    year: year.value,
    city: city.value,
    phone: phone.value,
    email: email.value,
    field: field.value,
    notes: notes.value
  };

  records.push(data);
  renderRecords();

  // איפוס
  name.value = "";
  city.value = "";
  phone.value = "";
  email.value = "";
  field.value = "";
  notes.value = "";
}

function renderRecords(){
  const box = document.getElementById("list");
  box.innerHTML = "";

  records.forEach(r => {
    box.innerHTML += `
      <div class="record">
        <b>${r.name}</b> • ${r.year}<br>
        ${r.city} • ${r.phone}<br>
        מייל: ${r.email}<br>
        תחום: ${r.field}<br>
        <small>מוקד: ${r.center} | ${r.date} | נציג: ${r.agent}</small><br>
        <div><i>${r.notes}</i></div>
      </div>
    `;
  });
}

function exportData(){
  let csv = "מוקד,תאריך,נציג,שם,שנה,עיר,טלפון,מייל,תחום,התרשמות\n";

  records.forEach(r=>{
    csv += `${r.center},${r.date},${r.agent},${r.name},${r.year},${r.city},${r.phone},${r.email},${r.field},${r.notes}\n`;
  });

  const blob = new Blob([csv], {type:"text/csv"});
  const url = URL.createObjectURL(blob);

  const a = document.createElement("a");
  a.href = url;
  a.download = "רשומות_יריד.csv";
  a.click();
}
</script>

</body>
</html>

